<!DOCTYPE html><html lang="en"><head><title>components/goal-tracker-widget</title></head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"><meta name="groc-relative-root" content="../"><meta name="groc-document-path" content="components/goal-tracker-widget"><meta name="groc-project-path" content="src/components/goal-tracker-widget.js"><link rel="stylesheet" type="text/css" media="all" href="../assets/style.css"><script type="text/javascript" src="../assets/behavior.js"></script><body><div id="meta"><div class="file-path">src/components/goal-tracker-widget.js</div></div><div id="document"><div class="segment"><div class="comments "><div class="wrapper"><h1 id="suivi-du-jour-pour-un-objectif">Suivi du jour pour un objectif</h1></div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Section de l&#39;écran principal, dédiée à un objectif.
Fournit notamment le descriptif de l&#39;objectif et l’éventuel bouton de progression.</p></div></div><div class="code"><div class="wrapper"><span class="hljs-keyword">import</span> React, { PropTypes } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>

<span class="hljs-keyword">import</span> ActionThumbUp <span class="hljs-keyword">from</span> <span class="hljs-string">'material-ui/svg-icons/action/thumb-up'</span>
<span class="hljs-keyword">import</span> ContentAdd <span class="hljs-keyword">from</span> <span class="hljs-string">'material-ui/svg-icons/content/add'</span>
<span class="hljs-keyword">import</span> FloatingActionButton <span class="hljs-keyword">from</span> <span class="hljs-string">'material-ui/FloatingActionButton'</span>

<span class="hljs-keyword">import</span> Gauge <span class="hljs-keyword">from</span> <span class="hljs-string">'./gauge'</span>
<span class="hljs-keyword">import</span> { GoalPropType } <span class="hljs-keyword">from</span> <span class="hljs-string">'../prop-types'</span></div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>La déstructuration en force !</p></div></div><div class="code"><div class="wrapper"><span class="hljs-keyword">const</span> GoalTrackerWidget = ({ goal: { name, units, target }, progress, onProgress }) =&gt; {</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>La beauté d&#39;un ternaire multi-lignes…</p></div></div><div class="code"><div class="wrapper">  <span class="hljs-keyword">const</span> adderComponent = target &gt; progress
    ? <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">FloatingActionButton</span> <span class="hljs-attribute">mini</span> <span class="hljs-attribute">secondary</span> <span class="hljs-attribute">onClick</span>=<span class="hljs-value">{onProgress}</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">ContentAdd</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">FloatingActionButton</span>&gt;</span>
    : <span class="hljs-tag">&lt;<span class="hljs-title">FloatingActionButton</span> <span class="hljs-attribute">mini</span> <span class="hljs-attribute">disabled</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">ActionThumbUp</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">FloatingActionButton</span>&gt;</span>

  return (
    <span class="hljs-tag">&lt;<span class="hljs-title">tr</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">h2</span>&gt;</span>{name}<span class="hljs-tag">&lt;/<span class="hljs-title">h2</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">Gauge</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">{progress}</span> <span class="hljs-attribute">max</span>=<span class="hljs-value">{target}</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">small</span>&gt;</span>{progress} {units} sur {target}<span class="hljs-tag">&lt;/<span class="hljs-title">small</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span>{adderComponent}<span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">tr</span>&gt;</span>
  )</span>
}</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Comme toujours, on définit les propriétés attendues/autorisées pour validation.</p></div></div><div class="code"><div class="wrapper">GoalTrackerWidget.propTypes = {
  goal: GoalPropType.isRequired,
  progress: PropTypes.number.isRequired,
  onProgress: PropTypes.func
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> GoalTrackerWidget</div></div></div></div></body></html>